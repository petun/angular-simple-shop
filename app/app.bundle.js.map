{"version":3,"sources":["webpack:///webpack/bootstrap 8b1b4cb7908b36b78f72","webpack:///./bootstrap.js","webpack:///./app.js","webpack:///./routing.js","webpack:///./cart/CartModule.js","webpack:///./cart/directives/addToCart.js","webpack:///./cart/services/order.js","webpack:///./cart/services/cart.js","webpack:///./cart/controllers/CartCtrl.js","webpack:///./cart/components/cartProducts.js","webpack:///./cart/components/order.js","webpack:///./cart/components/orderSuccess.js","webpack:///./cart/filters/totalCost.js","webpack:///./cart/filters/totalProducts.js","webpack:///./catalog/CatalogModule.js","webpack:///./catalog/components/category.js","webpack:///./catalog/components/categoryMenu.js","webpack:///./catalog/components/top.js","webpack:///./catalog/services/shopFactory.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;ACtCA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA,EAAC;;AAED;;;;;;;;;;;;;ACxBA;;AAEA;AACA;AACA,2D;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA,I;;;;;;;;;ACtBA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,2D;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,E;;;;;;;;;AClBD;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;;;ACND;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;;;AC9FD;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,MAAK,G;;;;;;;;;ACZL;AACA;AACA;AACA;AACA;AACA;AACA,sDAAqD,cAAc;AACnE,YAAW,0BAA0B;AACrC,iGAAgG,kBAAkB;AAClH,YAAW,2CAA2C;AACtD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAC,E;;;;;;;;;ACpCD;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAa;AACb;;AAEA;AACA,EAAC,E;;;;;;;;;AClCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,E;;;;;;;;;ACPD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,0FAAyF,QAAQ;AACjG;AACA,UAAS;;AAET;AACA;;AAEA,EAAC,E;;;;;;;;;ACtBD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,qDAAoD,QAAQ;AAC5D;AACA,UAAS;;AAET;AACA;;AAEA,EAAC,E;;;;;;;;;ACrBD;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;ACNA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,UAAS;AACT;;AAEA,EAAC,E;;;;;;;;;ACrBD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA,EAAC,E;;;;;;;;;ACZD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;;AAEA,EAAC,E;;;;;;;;;ACdD;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,EAAC,E","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8b1b4cb7908b36b78f72\n **/","(function() {\r\n\r\n    var myApplication = angular.module('shopApp111');\r\n\r\n    fetchData().then(bootstrapApplication);\r\n\r\n    function fetchData() {\r\n        var initInjector = angular.injector([\"ng\"]);\r\n        var $http = initInjector.get(\"$http\");\r\n\r\n        return $http.get(\"/backend/category.json\").then(function(response) {\r\n            myApplication.constant(\"config\", response.data);\r\n        }, function(errorResponse) {\r\n            // Handle error case\r\n        });\r\n    }\r\n\r\n    function bootstrapApplication() {\r\n        angular.element(document).ready(function() {\r\n            angular.bootstrap(document, [\"shopApp\"]);\r\n        });\r\n    }\r\n}());\r\n\r\nrequire('./app.js');\r\n\r\n\r\n\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./bootstrap.js\n ** module id = 0\n ** module chunks = 0\n **/","angular.module('shopApp', ['ngRoute', 'CartModule', 'CatalogModule']);\r\n\r\nrequire('./routing.js');\r\nrequire('./cart/CartModule.js');\r\nrequire('./catalog/CatalogModule.js');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app.js\n ** module id = 1\n ** module chunks = 0\n **/","angular.\r\nmodule('shopApp').\r\nconfig(['$locationProvider', '$routeProvider',\r\n    function config($locationProvider, $routeProvider) {\r\n        $locationProvider.hashPrefix('!');\r\n\r\n        $routeProvider.\r\n\r\n        when('/top', {\r\n            template: '<top-products></top-products>'\r\n        }).\r\n        when('/category/:categoryId', {\r\n            template: '<category></category>'\r\n        }).\r\n        when('/order', {\r\n            template: '<order></order>'\r\n        }).\r\n        when('/success', {\r\n            template: '<order-success></order-success>'\r\n        }).\r\n        otherwise('/top');\r\n    }\r\n]);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./routing.js\n ** module id = 2\n ** module chunks = 0\n **/","angular.module('CartModule', ['ngStorage']);\r\n\r\nrequire('./directives/addToCart.js');\r\n\r\nrequire('./services/order.js');\r\nrequire('./services/cart.js');\r\n\r\nrequire('./controllers/CartCtrl.js');\r\nrequire('./components/cartProducts.js');\r\n\r\nrequire('./components/order.js');\r\nrequire('./components/orderSuccess.js');\r\n\r\nrequire('./filters/totalCost.js');\r\nrequire('./filters/totalProducts.js');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./cart/CartModule.js\n ** module id = 3\n ** module chunks = 0\n **/","angular.module('CartModule')\r\n.directive('addToCart', function() {\r\n    return {\r\n        restrict: 'E',\r\n        scope: {\r\n            product: '@'\r\n        },\r\n        template: '<a href=\"\" ng-click=\"addToCart()\">Add to cart</a>',\r\n        controller: function($log, $scope, dataServiceCart) {\r\n            $scope.product = JSON.parse($scope.product);\r\n\r\n            $scope.addToCart = function() {\r\n                $log.log($scope.product);\r\n                var product = JSON.parse($scope.product);\r\n                dataServiceCart.cart.addItem(product.id, product.name, product.price, 1);\r\n            }\r\n        }\r\n    };\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./cart/directives/addToCart.js\n ** module id = 4\n ** module chunks = 0\n **/","angular.module('CartModule').service('orderService', ['$http', function ($http) {\r\n    return {\r\n        makeOrder: function(order) {\r\n            return $http.post('backend/order.php', order);\r\n        }\r\n    }\r\n}]);\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./cart/services/order.js\n ** module id = 5\n ** module chunks = 0\n **/","angular.module('CartModule').service('dataServiceCart', ['$localStorage', function ($localStorage) {\r\n\r\n    /**\r\n     * Assign localStorage to local var\r\n     */\r\n    var store = $localStorage.$default({\r\n        items: {}\r\n    });\r\n\r\n    /**\r\n     * Local methods container\r\n     * @type {Object}\r\n     */\r\n    var cart = {};\r\n\r\n    /**\r\n     * Get single item\r\n     * @param  {number} id  ID of item cart\r\n     * @return {object} Get only one item by id\r\n     */\r\n    cart.getItem = function (id) {\r\n        return store.items[id] || false;\r\n    };\r\n\r\n    /**\r\n     * Add item to the cart\r\n     * @param {number} id       ID of item cart\r\n     * @param {number} quantity Quantity for item in thecart\r\n     */\r\n    cart.addItem = function (id, name, price, quantity) {\r\n\r\n        // Check if exist already\r\n        if (store.items[id]) {\r\n\r\n            // Update name\r\n            store.items[id].name = name;\r\n            // Update price\r\n            store.items[id].price = price;\r\n            // Update quantity\r\n            store.items[id].quantity = Number(store.items[id].quantity) + quantity;\r\n\r\n        } else {\r\n\r\n            // Store new item in cart\r\n            store.items[id] = {\r\n                name: name,\r\n                price: price,\r\n                quantity: quantity\r\n            };\r\n        }\r\n\r\n        return store.items[id];\r\n    };\r\n\r\n    /**\r\n     * Update item of the cart\r\n     * @param {number} id       ID of item cart\r\n     * @param {number} quantity Quantity for item in thecart\r\n     */\r\n    cart.updateItem = function (id, quantity) {\r\n\r\n        store.items[id].quantity = quantity;\r\n\r\n        return store.items[id];\r\n    };\r\n\r\n    /**\r\n     * Remove single item\r\n     * @return {object} Delete only one item by id\r\n     */\r\n    cart.delItem = function (id) {\r\n        delete store.items[id];\r\n    };\r\n\r\n    /**\r\n     * Fetch all items in cart\r\n     * @return {object} Entire object cart\r\n     */\r\n    cart.fetchAll = function (products) {\r\n\r\n        return store.items;\r\n    };\r\n\r\n    /**\r\n     * Reset the entire cart\r\n     */\r\n    cart.resetAll = function () {\r\n        return store.$reset();\r\n    };\r\n\r\n    return {\r\n        cart: cart,\r\n        store: store\r\n    };\r\n}]);\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./cart/services/cart.js\n ** module id = 6\n ** module chunks = 0\n **/","angular.module('CartModule').controller('CartController', ['$log', '$scope', 'dataServiceCart',\r\n    function ($log, $scope, dataServiceCart) {\r\n\r\n        $scope.getTotal = function () {\r\n            return _.size(dataServiceCart.store.items);\r\n        };\r\n\r\n        $scope.store = dataServiceCart.store.items;\r\n\r\n        $scope.getCost = function () {\r\n\r\n        }\r\n    }]);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./cart/controllers/CartCtrl.js\n ** module id = 7\n ** module chunks = 0\n **/","angular.\r\nmodule('CartModule').\r\ncomponent('cartProducts', {\r\n    //todo prevent a click or css cursor\r\n    template: '<table class=\"table\">' +\r\n    '<tr><th>Name</th><th>Cost</th><th></th><th>Total Cost</th><th></th></tr>' +\r\n    '<tr ng-repeat=\"(id, product) in products\"><td>{{product.name}}</td>' +\r\n    '<td>{{product.price | number:2}}</td>' +\r\n    '<td><a ng-click=\"decreaseQuantity(id)\"><i class=\"glyphicon glyphicon-menu-down\"></i></a> {{product.quantity}} <a ng-click=\"increaseQuantity(id)\"><i class=\"glyphicon glyphicon-menu-up\"></i></a></td>' +\r\n    '<td>{{product.price*product.quantity | number:2}}</td>' +\r\n    '<td><a  ng-click=\"removeItem(id)\"><i class=\"glyphicon glyphicon-remove\"></i></a></td></tr>' +\r\n    '</table>',\r\n    controller: function GreetUserController($scope, $log, dataServiceCart) {\r\n\r\n        $scope.products = dataServiceCart.cart.fetchAll();\r\n        $log.log($scope.products);\r\n\r\n        $scope.removeItem = function(id) {\r\n            $log.log('delete item ' + id);\r\n            dataServiceCart.cart.delItem(id);\r\n        };\r\n\r\n        $scope.decreaseQuantity = function(id) {\r\n            var item = dataServiceCart.cart.getItem(id);\r\n            if (item.quantity <= 1) {\r\n                return $scope.removeItem(id);\r\n            }\r\n            return dataServiceCart.cart.updateItem(id, item.quantity - 1);\r\n        };\r\n\r\n        $scope.increaseQuantity = function(id) {\r\n            var item = dataServiceCart.cart.getItem(id);\r\n            return dataServiceCart.cart.updateItem(id, item.quantity + 1);\r\n        }\r\n\r\n    }\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./cart/components/cartProducts.js\n ** module id = 8\n ** module chunks = 0\n **/","angular.\r\nmodule('CartModule').\r\ncomponent('order', {\r\n    templateUrl: 'app/cart/components/order.html',\r\n\r\n    controller: function($log, $scope, dataServiceCart, orderService, $location) {\r\n\r\n        $scope.deliveryTypes = [\r\n            {\r\n                \"name\":\"Courier\",\r\n                \"value\":\"1\"\r\n            },\r\n            {\r\n                \"name\":\"Take self from cafe\",\r\n                \"value\":\"2\"\r\n            }\r\n        ];\r\n\r\n        $scope.order = {\r\n            deliveryType: $scope.deliveryTypes[0]\r\n        };\r\n\r\n\r\n        $scope.makeOrder = function(order) {\r\n            order.products = dataServiceCart.cart.fetchAll();\r\n            orderService.makeOrder(order).then(function(response){\r\n                if (response.data.result) {\r\n                    $location.path('/success').replace();\r\n\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./cart/components/order.js\n ** module id = 9\n ** module chunks = 0\n **/","angular.\r\nmodule('CartModule').\r\ncomponent('orderSuccess', {\r\n    template: '<div class=\"content\"><div class=\"container\">' +\r\n    '<h1>Order complete successfully</h1>' +\r\n    '<p>We receive your order. As soon as possible.</p>' +\r\n    '</div> </div>',\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./cart/components/orderSuccess.js\n ** module id = 10\n ** module chunks = 0\n **/","angular.module('CartModule').filter('totalCost', function(){\r\n\r\n    return function (data, key1, key2) {\r\n        // debugger;\r\n        if (\r\n            typeof (data) === 'undefined' &&\r\n            typeof (key1) === 'undefined' &&\r\n            typeof (key2) === 'undefined') {\r\n\r\n            return 0;\r\n        }\r\n\r\n        var sum = 0;\r\n\r\n        Object.keys(data).forEach(function (i) {\r\n            if (typeof data[i][key1] !== 'number' || typeof data[i][key2] !== 'number') { return; }\r\n            sum = sum + (data[i][key1] * data[i][key2]);\r\n        });\r\n\r\n        return sum;\r\n    }\r\n\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./cart/filters/totalCost.js\n ** module id = 11\n ** module chunks = 0\n **/","angular.module('CartModule').filter('totalProducts', function(){\r\n\r\n    return function (data, key1, key2) {\r\n        // debugger;\r\n        if (\r\n            typeof (data) === 'undefined' &&\r\n            typeof (key1) === 'undefined') {\r\n\r\n            return 0;\r\n        }\r\n\r\n        var count = 0;\r\n\r\n        Object.keys(data).forEach(function (i) {\r\n            if (typeof data[i][key1] !== 'number') { return; }\r\n            count += data[i][key1];\r\n        });\r\n\r\n        return count;\r\n    }\r\n\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./cart/filters/totalProducts.js\n ** module id = 12\n ** module chunks = 0\n **/","angular.module('CatalogModule', ['CartModule']);\r\n\r\nrequire('./components/category.js');\r\nrequire('./components/categoryMenu.js');\r\nrequire('./components/top.js');\r\n\r\nrequire('./services/shopFactory.js');\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./catalog/CatalogModule.js\n ** module id = 13\n ** module chunks = 0\n **/","angular.\r\nmodule('CartModule').\r\ncomponent('category', {\r\n    templateUrl: 'app/catalog/components/category.html',\r\n\r\n    controller: function ($log, $scope, shopFactory, $routeParams) {\r\n        $scope.categories = [];\r\n        $scope.category = null;\r\n\r\n        shopFactory.getCategories().then(function (response) {\r\n            $scope.categories = response.data;\r\n\r\n            if ($routeParams.categoryId) {\r\n                $scope.category = _.find($scope.categories, function(item) {\r\n                    $log.log(item);\r\n                    return item.id == $routeParams.categoryId;\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./catalog/components/category.js\n ** module id = 14\n ** module chunks = 0\n **/","angular.\r\nmodule('CartModule').\r\ncomponent('categoryMenu', {\r\n    templateUrl: 'app/catalog/components/category-menu.html',\r\n\r\n    controller: function ($log, $scope, shopFactory, $routeParams) {\r\n        $scope.categories = [];\r\n\r\n        shopFactory.getCategories().then(function (response) {\r\n            $scope.categories = response.data;\r\n        });\r\n    }\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./catalog/components/categoryMenu.js\n ** module id = 15\n ** module chunks = 0\n **/","angular.\r\nmodule('CartModule').\r\ncomponent('topProducts', {\r\n    templateUrl: 'app/catalog/components/category.html',\r\n\r\n    controller: function ($log, $scope, shopFactory, $routeParams) {\r\n        $scope.category = {};\r\n        $scope.category.name = 'Best products';\r\n\r\n        shopFactory.getTop().then(function (response) {\r\n            $scope.category.products = response.data;\r\n        });\r\n    }\r\n\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./catalog/components/top.js\n ** module id = 16\n ** module chunks = 0\n **/","angular.module('CatalogModule').factory('shopFactory', function ($http, $log) {\r\n\r\n    //todo return only one response ant then analize this on front\r\n    return {\r\n        getCategories: function () {\r\n            return $http.get('backend/category.json');\r\n        },\r\n        getTop: function() {\r\n            return $http.get('backend/top.json');\r\n        }\r\n    }\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./catalog/services/shopFactory.js\n ** module id = 17\n ** module chunks = 0\n **/"],"sourceRoot":""}